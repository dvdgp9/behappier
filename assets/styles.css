/* behappier — styles.css (MVP) */
:root{
  --bg:#FFF8F1; --ink:#4A3F35; --accent1:#F0C6AA; --accent2:#C8E6D0; --accent3:#E8DFF5;
  --radius:16px; --shadow:0 4px 14px rgba(0,0,0,.08); --motion:140ms cubic-bezier(.2,.8,.2,1);
}
*{box-sizing:border-box}
html,body{min-height:110vh}
html{background-color:var(--bg)}
body{
  margin:0; color:var(--ink);
  background: var(--bg) url('textures/Fondo-behappier.jpg') center/cover fixed no-repeat;
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}
/* Prevent horizontal scroll and ensure media scale within viewport */
html, body{overflow-x:hidden}
img, svg{max-width:100%; height:auto; display:block}
/* PWA safe-area padding to cover notch; bottom handled per-fixed buttons to avoid gap */
body{padding-top:env(safe-area-inset-top)}

/* iOS PWA fix: avoid background-attachment: fixed issues in standalone */
@media (display-mode: standalone){
  body{background-attachment: scroll}
}
@supports (-webkit-touch-callout: none){
  body{background-attachment: scroll}
}
.site-header{padding:16px 0}
.container{width:min(920px, 92%); margin:0 auto}
.header-inner{display:flex; align-items:center; gap:12px; justify-content:space-between}
.logo{display:block; height:48px; width:auto}
.brandline{display:flex; align-items:center; gap:10px}
.site-title{font-family:"Patrick Hand", cursive; font-size:22px; color:var(--ink)}
.history{width:min(680px,96%)}
.card{background:#ffffffdd; padding:24px; border-radius:var(--radius); box-shadow:var(--shadow)}
.h1{font-family:"Patrick Hand", cursive; font-size:28px; margin:0 0 12px}
.text-subtle{color:#6b6158}
.form{display:grid; gap:12px}
.input{width:100%; padding:12px 14px; border:1px solid #e4dcd4; border-radius:12px; font:inherit; background:#ffffff44}
.btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; height:42px; padding:0 14px; border:0; border-radius:14px; cursor:pointer; transition:transform var(--motion), box-shadow var(--motion);
  background:var(--ink); color:#fff; text-decoration:none}
.btn:visited{color:#fff; text-decoration:none}
.btn:hover{text-decoration:none}
.btn:hover{transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.12)}
.btn.secondary{background:var(--accent1); color:#3b2f26}
.stack-16{display:grid; gap:16px}
.center{display:grid; place-items:center; min-height:calc(100dvh - 96px)}
small.help{color:#7d746b}
.alert{padding:10px 12px; border-radius:12px; background:#fff3cd; color:#6b5a2b; border:1px solid #ffe69c}
.success{padding:10px 12px; border-radius:12px; background:#e8f8ef; color:#1f6b3a; border:1px solid #bfe7cf}

/* Icon button (header) */
.icon-btn{display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px; color:var(--ink); background:#ffffffaa; text-decoration:none; transition:transform var(--motion), box-shadow var(--motion)}
.icon-btn:hover{transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.12)}
.icon-btn i{font-size:20px; line-height:1}
.icon-btn svg{width:22px; height:22px; display:block}

/* Floating Action Button (bottom-right) */
.fab{position:fixed; right:calc(20px + env(safe-area-inset-right)); bottom:calc(24px + env(safe-area-inset-bottom)); z-index:1000; width:52px; height:52px; border-radius:16px; display:flex; align-items:center; justify-content:center; background:var(--ink); color:#fff; text-decoration:none; box-shadow:var(--shadow); transition:transform var(--motion), box-shadow var(--motion)}
.fab:hover{transform:translateY(-1px); box-shadow:0 10px 24px rgba(0,0,0,.16)}
.fab i{font-size:24px}

/* Home button (bottom-left), same visual as logout icon-btn */
.icon-btn.home{position:fixed; left:calc(20px + env(safe-area-inset-left)); bottom:calc(24px + env(safe-area-inset-bottom)); z-index:1100}
/* History button (bottom-right), same visual */
.icon-btn.history{position:fixed; right:calc(20px + env(safe-area-inset-right)); bottom:calc(24px + env(safe-area-inset-bottom)); z-index:1100}

/* Desenfoque contextual sobre el fondo para mejorar legibilidad */
.desenfocado{background:rgba(255,255,255,0.25); -webkit-backdrop-filter: blur(7px) saturate(1.05); backdrop-filter: blur(7px) saturate(1.05);} 

/* History list layout safety: allow flex children to shrink and wrap */
.history-list .card > div{min-width:0}
.history-list{overflow-x:hidden}
.history-list {height: 72vh}

/* History page header */
.history-header{display:flex; justify-content:space-between; align-items:center; gap:8px; margin-bottom:8px}

/* History row items (Variant A) */
.history-list .history-item{display:flex; gap:12px; align-items:center; padding:12px 14px; box-shadow:none; background:#ffffff88}
.history-list .history-item + .history-item{border-top:1px solid #eee5dc}
.history-list .dur-col{min-width:64px; display:flex; align-items:center; justify-content:center}
.history-title{font-weight:600; margin:0 0 4px}
.history-note{color:#7d746b; font-size:13px; overflow-wrap:anywhere}

/* Badges and chips */
.badge{display:inline-flex; align-items:center; justify-content:center; height:26px; padding:0 10px; border-radius:999px; font-weight:600; font-size:13px}
.badge-duration{background:#F0C6aa; color:#3b2f26; border:1px solid #e8b892}
.chip{display:inline-flex; align-items:center; height:24px; padding:0 10px; border-radius:999px; font-size:12px; color:#6b6158; background:#ffffff88; border:1px solid #ede4db}

/* Home hero */
.hero{margin:12px 0; border-radius:var(--radius); box-shadow:var(--shadow)}
.hero .brand{font-family:"Patrick Hand", cursive; font-size:36px}
.hero .subtitle{margin:4px 0 0; color:#6b6158}
.durations{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
.btn.duration{height:56px; padding:0 18px; background: #ffffff44;; color:var(--ink); box-shadow:0 6px 16px rgba(0,0,0,.12); font-family:"Patrick Hand", cursive; font-size:20px; letter-spacing:.3px}
.btn.duration:hover{transform:translateY(-2px); box-shadow:0 12px 24px rgba(0,0,0,.14)}
.btn.duration:active{transform:translateY(0); box-shadow:0 6px 16px rgba(0,0,0,.12)}
.btn.duration:focus-visible{outline:3px solid var(--accent1); outline-offset:2px}
/* Estado seleccionado (duración activa) */
.btn.duration[aria-current="true"]{background:#ffffff88; box-shadow:0 10px 24px rgba(0,0,0,.16)}

/* Chooser (botones apilados centrados) */
.chooser{margin:12px 0; border-radius:var(--radius); box-shadow:var(--shadow)}
.chooser .container{display:grid; justify-items:center; gap:12px; padding:24px 0}
.chooser .helper{margin:0; color:#6b6158; font-size:15px}
.chooser .durations{flex-direction:column; align-items:stretch; width:100%; max-width:520px}
.chooser .btn.duration{width:100%}

/* Microinteracciones y animaciones de entrada escalonadas */
@keyframes fadeUp{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:none}}
.chooser .helper{animation:fadeUp 220ms var(--motion) 20ms both}
.chooser .durations a:nth-child(1){animation:fadeUp 240ms var(--motion) 60ms both}
.chooser .durations a:nth-child(2){animation:fadeUp 240ms var(--motion) 100ms both}
.chooser .durations a:nth-child(3){animation:fadeUp 240ms var(--motion) 140ms both}

/* Efecto glass sutil en hover */
.btn.duration{transition:transform var(--motion), box-shadow var(--motion), filter var(--motion), background 200ms ease}
.btn.duration:hover{filter:saturate(1.06) brightness(1.03)}

/* Page transition when leaving */
@keyframes pageOut{to{opacity:0; transform:scale(.98); filter:blur(4px)}}
body.leaving main{animation: pageOut 280ms var(--motion) forwards}

/* Responsive tweaks */
@media (max-width: 600px){
  .h1{font-size:22px}
  .card{padding:16px}
  .history{padding:16px}
  .history-list .card{padding:12px}
  .history-list .dur-col{min-width:44px}
  .history-list .date-col{min-width:auto}
  .history-list .date-col small{font-size:12px; white-space:nowrap}
  .history-list .card{flex-wrap:wrap; align-items:flex-start}
  .history-list .date-col{margin-left:auto}
  .hero .brand{font-size:30px}
  .btn.duration{height:52px; font-size:19px; padding:0 16px}
  .fab{right:calc(18px + env(safe-area-inset-right)); bottom:calc(20px + env(safe-area-inset-bottom)); width:48px; height:48px; border-radius:14px}
  .fab i{font-size:22px}
  .icon-btn.home{left:calc(18px + env(safe-area-inset-left)); bottom:calc(20px + env(safe-area-inset-bottom))}
  .icon-btn.history{right:calc(18px + env(safe-area-inset-right)); bottom:calc(20px + env(safe-area-inset-bottom))}
}

/* Desktop background and logout alignment */
@media (min-width: 900px){
  body{ background-image: url('textures/fondo-pc-behappier.jpg'); }
  .site-header .icon-btn{ position:fixed; top:16px; right:20px; z-index:1100 }
}
